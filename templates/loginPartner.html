<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Google Fonts

        NOTE:
        CSS rules to specify families-

        font-family: 'Amatic SC', cursive;
        font-family: 'Caveat', cursive;
        font-family: 'Lato', sans-serif;
        font-family: 'Montserrat', sans-serif;
        font-family: 'Roboto', sans-serif;
        font-family: 'Roboto Mono', monospace;
    -->

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Amatic+SC&family=Caveat:wght@400;500;700&family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400&family=Montserrat:ital,wght@0,200;0,300;0,400;0,500;0,700;1,200;1,300;1,400;1,500;1,700&family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500&family=Roboto:ital,wght@0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet" />

    <!--Bootstrap 4-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous" />

    <link rel="shortcut icon" href="static/images/logo/faviconIcon.png" type="static/images/logo/png" />
    <link rel="stylesheet" href="static/modalsTrial.css" />
    <link rel="stylesheet" href="static/dashboard.css">
    <link rel="stylesheet" href="static/loginPartner.css" />
    <title>Partner Login</title>
</head>

<body class="loginPartner">
    <main>
        <div class="container partnerLoginContainer">
            <div class="row rowPartner">
                <div class="col-lg-6 col-12">
                    <div class="logoPartnerWrap">
                        <img id="logoPartner" src="static/images/logo/homify5.png" alt="" />
                        <h2>Partner Account</h2>
                    </div>
                </div>
                <div class="col-lg-6 col-12">
                    <div class="loginBoxPartner shadow">
                        <form id="loginForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <input type="text" placeholder="Email id or phone number" class="form-control"
                                        id="partner_id" name="partner_id" autocomplete="off" required />
                                </div>
                            </div>
                            <div class="form-row last-input">
                                <div class="form-group">
                                    <input type="password" placeholder="Password" class="form-control" id="login_pw"
                                        name="passwordPartner" autocomplete="off" required />
                                </div>
                            </div>
                            <div class="warning_message" id="pw_validation"></div>
                            <div class="form-row buttonMargin">
                                <div class="form-group">
                                    <button type="password" placeholder="Password" class="form-control btn btn-primary"
                                        name="passwordPartner" autocomplete="off" id="partnerLogin">
                                        Log In
                                    </button>
                                </div>
                            </div>
                            <div>
                                <a style="text-align: center" href="/change_partner_pwd" target="_blank">Change
                                    Password?</a>
                            </div>
                            <hr />
                        </form>
                        <div class="form-row buttonMarginOne">
                            <div class="form-group">
                                <button class="form-control btn text-white credentialUser" name="passwordPartner"
                                    autocomplete="off">
                                    Create New Account
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modals">
            <div class="signupBoxPartner shadow">
                <div class="modals-header">
                    <i class="fas fa-times" id="closeBtn"></i>
                </div>
                <hr>
                <form action="/signUpPartner" method="post" onsubmit="return partner_signup()">
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="First name" class="form-control" name="first_name"
                                autocomplete="off" required />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" placeholder="Last name" class="form-control" name="last_name"
                                autocomplete="off" required />
                        </div>
                    </div>
                    <div class="form-row row-gender ml-2">
                        <label for="validationCustom05" class="form-check-label genderLabel">Gender: &nbsp;</label>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="inlineRadio1" value="male">
                            <label class="form-check-label genderRadio" for="inlineRadio1">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="inlineRadio2" value="female">
                            <label class="form-check-label genderRadio" for="inlineRadio2">Female</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="inlineRadio3" value="others">
                            <label class="form-check-label genderRadio" for="inlineRadio3">Others</label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text" id="basic-addon1">
                                        <!--<i class="fas fa-flag-usa text-dark"></i> &nbsp; <span id="isdcode">+1</span>-->
                                        <select id="country" class="form-select" name="isd">
                                            <option selected value="+1">US +1</option>
                                            <option value="+91">IND +91</option>
                                        </select>
                                    </span>
                                </div>
                                <input type="tel" class="form-control" id="borderCustomSignup"
                                    placeholder="10 digit mobile number" aria-label="10 digit mobile number"
                                    aria-describedby="basic-addon1" pattern="[1-9]{1}[0-9]{9}" minlength="10"
                                    maxlength="10" name="mobile_number" required />
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="email" placeholder="Email address" class="form-control" name="email"
                                autocomplete="off" />
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="password" placeholder="Create password" class="form-control" id="signup_pw"
                                name="password" autocomplete="off" minlength="8" required />
                        </div>
                    </div>
                    <div class="form-row last-input">
                        <div class="form-group">
                            <input type="password" placeholder="Confirm password" class="form-control"
                                id="signup_con_pw" name="confirm_password" autocomplete="off" minlength="8" required />
                        </div>
                    </div>
                    <div class="warning_message" id="con_pw_validation"></div>
                    <div class="form-row buttonMargin">
                        <div class="form-group">
                            <button type="submit" class="form-control btn btn-primary" name="submit">
                                Register
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>
    <!--jQueyCDN-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!--Bootstrap 4.6v-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
        crossorigin="anonymous"></script>

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/939c2f26e1.js" crossorigin="anonymous"></script>

    <!--Locals-->
    <script async src="static/modals.js"></script>

    <script>
        function partner_signup() {
            var signup_pw = document.querySelector('#signup_pw').value;
            var signup_con_pw = document.querySelector('#signup_con_pw').value;
            var con_pw_validation = document.querySelector('#con_pw_validation')

            if (signup_pw != signup_con_pw) {
                con_pw_validation.innerHTML = '*Password mismatch';
                return false;
            }
        }
    </script>
    <script>
        var partnerLogin = document.querySelector('#loginForm');

        partnerLogin.addEventListener('submit', (e) => {
            var partner_id = document.querySelector('#partner_id').value;
            var login_pw = document.querySelector('#login_pw').value;
            var pw_validation = document.querySelector('#pw_validation');
            //var action = '';
            e.preventDefault();

            $.post('/loginPartner', {
                p_pw: login_pw,
                p_id: partner_id,
            }, function (message) {
                if (message == 'correct') {
                    window.location.replace('/partner_dashboard');
                } else {
                    pw_validation.innerHTML = message;
                }
            });
            //e.preventDefault();
        });
    </script>
</body>

</html>